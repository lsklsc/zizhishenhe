webpackJsonp([0],{"K+1d":function(i,e){},hYS1:function(i,e,t){"use strict";var a=localStorage.getItem("token"),r={props:{imageUrl:{type:String,default:""},mkdir:{type:String,default:"qualification"},uploadLimit:{type:Number,default:5}},data:function(){return{data:{mkdir:"qualification"},imageArr:[],urlString:"",dialogVisible:!1,dialogImageUrl:"",headerObj:{Authorization:"Token "+a,"Content-Type":"multipart/form-data"}}},watch:{imageUrl:{handler:function(i,e){console.log(i,this.urlString),i==this.urlString&&i||(this.urlString=i,this.imageUrl=i,this.init())},immediate:!0,deep:!0},mkdir:{handler:function(i,e){this.data.mkdir=i},immediate:!0}},mounted:function(){},methods:{handlePictureCardPreview:function(i){this.dialogImageUrl=i.url,this.dialogVisible=!0},clearFiles:function(){this.$refs.upload.clearFiles()},onSuccess:function(i,e,t){var a=[];t.forEach(function(i){i.response?a.push(i.response.data):a.push(i.url)}),this.urlString=a.join(","),this.$emit("uploadSuccess",a)},onRemove:function(i,e){this.imageArr=e;var t=e.map(function(i){return i.url});this.urlString=t.join(","),this.$emit("uploadSuccess",t)},onExceed:function(){this.$message.warning("最多上传"+this.uploadLimit+"张图片")},onChange:function(i,e){console.log(i,e)},init:function(){if(this.imageUrl){var i=this.imageUrl.split(",");this.imageArr=i.map(function(i){return{url:i}})}else this.imageArr=[]},beforeAvatarUpload:function(i){if(!(i.size/1024/1024<5))return this.$message.error("上传图片大小不能超过5MB!"),!1}}},n={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"upload"},[t("el-upload",{ref:"upload",attrs:{multiple:"",action:"http://filemanager.ztbory.com/v1/file/fileupload/","list-type":"picture-card",data:i.data,header:i.headerObj,name:"files",beforeUpload:i.beforeAvatarUpload,"on-preview":i.handlePictureCardPreview,"file-list":i.imageArr,"on-change":i.onChange,"on-success":i.onSuccess,"on-remove":i.onRemove,limit:i.uploadLimit,"on-exceed":i.onExceed}},[t("i",{staticClass:"el-icon-plus"})]),i._v(" "),t("el-dialog",{attrs:{visible:i.dialogVisible},on:{"update:visible":function(e){i.dialogVisible=e}}},[t("img",{attrs:{width:"100%",src:i.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var o=t("VU/8")(r,n,!1,function(i){t("K+1d")},"data-v-5f1e0d14",null);e.a=o.exports},mvHQ:function(i,e,t){i.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(i,e,t){var a=t("FeBl"),r=a.JSON||(a.JSON={stringify:JSON.stringify});i.exports=function(i){return r.stringify.apply(r,arguments)}}});
//# sourceMappingURL=0.126cc738a923db051677.js.map