webpackJsonp([11],{KPNA:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("hYS1"),l=t("o5Dg"),o={components:{upload:a.a},data:function(){return{ruleForm:{},serviceList:[],rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],admin:[{required:!0,message:"请输入负责人/法人",trigger:"blur"}],id_card:[{required:!0,pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"身份证号格式错误",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"change"}],credit_code:[{required:!0,message:"请输入社会统一信用代码",trigger:"change"}],service_area:[{required:!0,message:"请选择服务区域",trigger:"change"}],email:[{required:!0,pattern:/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/,message:"邮箱格式错误",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(r.ruleForm.quali_file)if(r.ruleForm.contract_file){if(r.ruleForm.company_picture)return e?void l.a.addCompany(r.ruleForm).then(function(e){0==e.data.code?(r.$notify({title:"提交成功!",type:"success",offset:100}),setTimeout(function(){window.location.reload()},1500)):r.$notify({title:e.data.msg,type:"error",offset:100})}):(console.log("error submit!!"),!1);r.$message.warning("请上传营业执照")}else r.$message.warning("请上传合同附件");else r.$message.warning("请上传资质附件")})},uploadSuccess:function(e){this.ruleForm.quali_file=e.join(",")},uploadSuccess1:function(e){this.ruleForm.contract_file=e.join(",")},uploadSuccess2:function(e){this.ruleForm.company_picture=e.join(",")},serviceData:function(){var e=this;l.a.serviceData().then(function(r){0==r.data.code&&(e.serviceList=r.data.data.data)})}},mounted:function(){this.serviceData()}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"content"},[t("div",{staticClass:"left"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",[t("div",{staticClass:"title"},[e._v("收运单位账号申请")])]),e._v(" "),t("div",{staticStyle:{display:"flex"}},[t("el-form-item",{attrs:{prop:"name"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("公司名称：\n          "),t("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"admin"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("负责人/法人姓名：\n          "),t("el-input",{model:{value:e.ruleForm.admin,callback:function(r){e.$set(e.ruleForm,"admin",r)},expression:"ruleForm.admin"}})],1)],1),e._v(" "),t("div",{staticStyle:{display:"flex"}},[t("el-form-item",{attrs:{prop:"id_card"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("负责人身份证：\n          "),t("el-input",{model:{value:e.ruleForm.id_card,callback:function(r){e.$set(e.ruleForm,"id_card",r)},expression:"ruleForm.id_card"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"phone"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("负责人联系电话：\n          "),t("el-input",{attrs:{maxlength:"11"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1)],1),e._v(" "),t("div",{staticStyle:{display:"flex"}},[t("el-form-item",{attrs:{prop:"address"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("地址：\n          "),t("el-input",{model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"credit_code"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("社会统一信用代码：\n          "),t("el-input",{model:{value:e.ruleForm.credit_code,callback:function(r){e.$set(e.ruleForm,"credit_code",r)},expression:"ruleForm.credit_code"}})],1)],1),e._v(" "),t("div",{staticStyle:{display:"flex"}},[t("el-form-item",{attrs:{prop:"email"}},[t("div",[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("邮箱：")]),e._v(" "),t("el-input",{model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"service_area"}},[t("div",[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("服务区域：")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择服务区域"},model:{value:e.ruleForm.service_area,callback:function(r){e.$set(e.ruleForm,"service_area",r)},expression:"ruleForm.service_area"}},e._l(e.serviceList,function(e){return t("el-option",{key:e.coding,attrs:{label:e.name,value:e.coding}})}),1)],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"quali_file"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("资质附件：\n        "),t("upload",{ref:"upload",attrs:{imageUrl:e.ruleForm.quali_file},on:{uploadSuccess:e.uploadSuccess}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"contract_file"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("合同附件：\n        "),t("upload",{ref:"upload",attrs:{imageUrl:e.ruleForm.contract_file},on:{uploadSuccess:e.uploadSuccess1}})],1),e._v(" "),t("el-form-item",{attrs:{label:"",prop:"company_picture"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("营业执照：\n        "),t("upload",{ref:"upload",attrs:{imageUrl:e.ruleForm.company_picture},on:{uploadSuccess:e.uploadSuccess2}})],1),e._v(" "),t("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交申请")])],1)],1),e._v(" "),t("div",{staticClass:"right"})])},staticRenderFns:[]};var s=t("VU/8")(o,i,!1,function(e){t("WQgr")},"data-v-3a7948d0",null);r.default=s.exports},WQgr:function(e,r){}});
//# sourceMappingURL=11.80bda6f530197adc568b.js.map